(()=>{"use strict";var e={4046:(e,t,n)=>{n.r(t)},8410:(e,t,n)=>{n.r(t)},6914:(e,t,n)=>{n.r(t)},4670:(e,t,n)=>{n.r(t)},6344:(e,t,n)=>{n.r(t)},9640:(e,t,n)=>{n.r(t)},5036:(e,t,n)=>{n.r(t)},728:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(9831);t.default=class{constructor(){this.base="https://react-rslang-be-d-khabarova.herokuapp.com",this.users=`${this.base}/users`,this.words=`${this.base}/words`}createUser(e){return a(this,void 0,void 0,(function*(){const t=yield fetch(this.users,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return 417===t.status&&((0,s.setErrorMessage)("Пользователь с таким email уже существует"),document.body.classList.add("loaded")),yield t.json()}))}loginUser(e){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${this.base}/signin`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return 403!==t.status&&404!==t.status||((0,s.setErrorMessage)("Неверный email или пароль!"),document.body.classList.add("loaded")),yield t.json()}))}getWords(e,t){return a(this,void 0,void 0,(function*(){const n=yield fetch(`${this.words}?group=${e}&page=${t}`);return{wordsPage:yield n.json()}}))}getWordsSprint(e,t){return a(this,void 0,void 0,(function*(){const n=yield fetch(`${this.words}?group=${e}&page=${t}`);return yield n.json()}))}getWordsTextbook(e,t){return a(this,void 0,void 0,(function*(){const n=yield fetch(`${this.words}?group=${e}&page=${t}`);return yield n.json()}))}getWord(e){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${this.words}/${e}`);return yield t.json()}))}}},947:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.words=t.base=void 0,t.base="https://react-rslang-be-d-khabarova.herokuapp.com",t.words=`${t.base}/words`},5738:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(728)),o=n(9831),l=n(1969),r=s(n(7400));n(4046),t.default=class{constructor(){this.api=new i.default,this.storage=new r.default}identification(){(0,l.isAuth)()?((0,o.renderLogOutBnt)(),(0,o.logOut)(),(0,o.showHiddenSections)()):((0,o.renderAuth)(),this.authorization(),(0,o.hideSections)()),(0,o.authBtnHandler)(),(0,o.hideModal)()}authorization(){const e=document.getElementById("auth_form");e.querySelectorAll("button").forEach((t=>{t.addEventListener("click",(n=>a(this,void 0,void 0,(function*(){n.preventDefault(),document.body.classList.remove("loaded");const a=e.querySelector("input[type=email]").value,s=e.querySelector("input[type=password]").value;if((0,o.validateEmail)(a)&&(0,o.validatePassword)(s)){const e={email:a,password:s};"registration"===t.id&&(yield this.api.createUser(e));const n=yield this.api.loginUser(e);this.storage.parseToLocalStorage(n),(0,o.renderLogOutBnt)()}document.body.classList.add("loaded")}))))}))}}},9831:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hideModal=t.authBtnHandler=t.validatePassword=t.validateEmail=t.setErrorMessage=t.renderLogOutBnt=t.logOut=t.renderAuth=t.hideSections=t.showHiddenSections=void 0;const a=n(713),s=(0,a.elementCreator)("div","modal,auth_modal"),i=(0,a.elementCreator)("div","shading"),o=document.createElement("form"),l=(0,a.inputCreator)("email","E-mail"),r=(0,a.inputCreator)("password","Пароль"),d=(0,a.buttonCreator)("login","Войти"),c=(0,a.buttonCreator)("registration","Регистрация"),u=(0,a.elementCreator)("div","error,hidden");function f(){document.querySelectorAll(".for_auth_user").forEach((e=>{e.classList.remove("hidden")}))}function v(){document.querySelectorAll(".for_auth_user").forEach((e=>{e.classList.add("hidden")}))}function m(){var e,t;null===(e=document.querySelector("body"))||void 0===e||e.appendChild(i),null===(t=document.querySelector("body"))||void 0===t||t.appendChild(s),s.appendChild(o),s.classList.add("hidden"),v()}function p(){const e=document.querySelector(".logout"),t=document.querySelector(".auth_btn");e.addEventListener("click",(()=>{localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),localStorage.removeItem("token"),localStorage.removeItem("message"),m(),l.value="",r.value="",t.classList.remove("hidden")}))}function h(e){null==u||u.classList.remove("hidden"),u.innerText=e}o.setAttribute("id","auth_form"),o.appendChild(l),o.appendChild(r),o.appendChild(d),o.appendChild(c),o.appendChild(u),t.showHiddenSections=f,t.hideSections=v,t.renderAuth=m,t.logOut=p,t.renderLogOutBnt=function(){const e=document.querySelector(".logout"),t=document.querySelector(".auth_btn");e.classList.remove("hidden"),s.classList.add("hidden"),i.classList.remove("visible"),t.classList.add("hidden"),f(),p()},t.setErrorMessage=h,t.validateEmail=function(e){return!1===/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)?(h("Введите корректный e-mail"),!1):(null==u||u.classList.add("hidden"),u.innerText="",!0)},t.validatePassword=function(e){return e.length<8?(h("Пароль должен быть не меньше 8 символов"),!1):(null==u||u.classList.add("hidden"),u.innerText="",!0)},t.authBtnHandler=function(){var e;null===(e=document.querySelector(".auth_btn"))||void 0===e||e.addEventListener("click",(()=>{i.classList.add("visible"),s.classList.remove("hidden")}))},t.hideModal=function(){var e;null===(e=document.querySelector(".shading"))||void 0===e||e.addEventListener("click",(e=>{const t=e.target;s.classList.add("hidden"),t.classList.remove("visible")}))}},8543:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(7015),i=a(n(776));function o(){var e;(0,s.elem)(".header").classList.add("none-view"),(0,s.elem)(".main").classList.add("none-view"),null===(e=(0,s.elem)("#auth_form"))||void 0===e||e.classList.add("none-view"),(0,s.elem)(".footer").classList.add("none-view"),(0,s.elem)(".sprint").classList.add("none-view"),(0,s.elem)(".statistics-page").classList.remove("none-view"),(0,i.default)()}function l(){var e;(0,s.elem)(".header").classList.remove("none-view"),(0,s.elem)(".main").classList.remove("none-view"),null===(e=(0,s.elem)("#auth_form"))||void 0===e||e.classList.remove("none-view"),(0,s.elem)(".footer").classList.remove("none-view"),(0,s.elem)(".statistics-page").classList.add("none-view")}t.default=function(){(0,s.elem)(".nav_stat").addEventListener("click",o),(0,s.btn)(".btn-exit-statistics").addEventListener("click",l)}},7319:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(8410);const s=a(n(8543));t.default=function(){document.querySelector("body").insertAdjacentHTML("beforeend",'<section class="statistics-page none-view">\n    <div class="exit"><button class="btn-exit-statistics">x</button></div>\n    <h1>Статистика за день</h1>\n    <h3>Спринт</h3>\n    <div>Количество изученных слов: <span class="count-words-sprint">0</span></div>\n    <div>Процент правильных ответов: <span class="percent-sprint">0</span>%</div>\n    <div>Лучшая серия: <span class="best-chain-sprint">0</span></div>\n    <h3>Аудиовызов</h3>\n    <div>Количество изученных слов: <span class="count-words-audiocall">0</span></div>\n    <div>Процент правильных ответов: <span class="percent-audiocall">0</span>%</div>\n    <div>Лучшая серия: <span class="best-chain-audiocall">0</span></div>\n  </section>'),(0,s.default)()}},776:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(7015);t.default=function(){const e=localStorage.getItem("day_stat_sprint"),t=localStorage.getItem("day_stat_audiocall");if(null!==e){const t=JSON.parse(e),n=Math.round(100*t.goods/(t.bads+t.goods));(0,a.elem)(".best-chain-sprint").innerHTML=t.best.toString(),(0,a.elem)(".percent-sprint").innerHTML=n.toString(),(0,a.elem)(".count-words-sprint").innerHTML=(t.bads+t.goods).toString()}if(null!==t){const e=JSON.parse(t),n=Math.round(100*e.goods/(e.bads+e.goods));(0,a.elem)(".best-chain-audiocall").innerHTML=e.best.toString(),(0,a.elem)(".percent-audiocall").innerHTML=n.toString(),(0,a.elem)(".count-words-audiocall").innerHTML=(e.bads+e.goods).toString()}}},1969:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAuth=t.addInformation=void 0,t.addInformation=function(e,t){localStorage.setItem(e,t)},t.isAuth=function(){return"Authenticated"===localStorage.getItem("message")}},7400:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(1969);t.default=class{constructor(){this.arr=[]}parseToLocalStorage(e){this.arr=Object.entries(e),this.arr.forEach((([e,t])=>{(0,a.addInformation)(e,t)}))}}},8808:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(3399)),o=n(7015),l=s(n(2335)),r=s(n(1370)),d=s(n(8763)),c=s(n(8689)),u=s(n(5284)),f=s(n(4060)),v=s(n(2641)),m=s(n(5170)),p=s(n(8432)),h=s(n(478));t.default=function(){(0,i.default)(),document.addEventListener("keydown",d.default),document.addEventListener("keydown",c.default),document.addEventListener("keydown",u.default),document.addEventListener("keydown",f.default),(0,h.default)(),(0,o.btn)(".nav_audiocall").addEventListener("click",v.default),(0,o.elem)(".card_audiocall").addEventListener("click",v.default),(0,o.btn)(".btn-exit").addEventListener("click",m.default),(0,o.btns)(".start-audiocall").forEach((e=>{e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){const t=+e.target.innerHTML;p.default.page=yield(0,l.default)(t),(0,o.elem)(".game-menu").classList.add("none-view"),(0,o.elem)(".gameplay-audiocall").classList.remove("none-view"),yield(0,r.default)()}))))}))}},5170:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(7015),i=a(n(8432));t.default=function(){var e;(0,s.elem)(".header").classList.remove("none-view"),(0,s.elem)(".main").classList.remove("none-view"),(0,s.elem)(".footer").classList.remove("none-view"),null===(e=(0,s.elem)("#auth_form"))||void 0===e||e.classList.remove("none-view"),(0,s.elem)(".audiocall").classList.add("none-view"),(0,s.elem)(".game-menu").classList.add("none-view"),(0,s.elem)(".gameplay-audiocall").classList.add("none-view"),(0,s.elem)(".answers-audiocall").innerHTML="",i.default.gameStep=0,(0,s.elem)(".answerImage")&&((0,s.elem)(".answerImage").remove(),(0,s.btn)(".btn-audio").classList.remove("small"),(0,s.elem)(".answer").innerHTML="",(0,s.btn)(".next-btn").innerHTML="НЕ ЗНАЮ",(0,s.btn)(".next-btn").classList.remove("big"))}},2641:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(7015);t.default=function(){var e;(0,a.elem)(".header").classList.add("none-view"),(0,a.elem)(".main").classList.add("none-view"),(0,a.elem)(".footer").classList.add("none-view"),null===(e=(0,a.elem)("#auth_form"))||void 0===e||e.classList.add("none-view"),(0,a.elem)(".audiocall").classList.remove("none-view"),(0,a.elem)(".game-menu").classList.remove("none-view")}},1370:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(1298)),o=n(7015),l=s(n(7251)),r=n(7981),d=s(n(8432)),c=s(n(5206)),u=s(n(4810));t.default=function(){return a(this,void 0,void 0,(function*(){(0,i.default)(),yield(0,l.default)(),(0,o.btn)(".next-btn").onclick=()=>a(this,void 0,void 0,(function*(){"НЕ ЗНАЮ"===(0,o.btn)(".next-btn").innerHTML?(0,c.default)():d.default.gameStep===r.gameSteps?(yield(0,u.default)(),(0,o.elem)(".audiocall-result").classList.remove("none-view"),(0,o.elem)(".gameplay-audiocall").classList.add("none-view"),(0,o.elem)(".exit").classList.add("none-view"),(0,o.elem)(".answers-audiocall").innerHTML="",(0,o.elem)(".answerImage").remove(),(0,o.btn)(".btn-audio").classList.remove("small"),(0,o.elem)(".answer").innerHTML="",(0,o.btn)(".next-btn").innerHTML="НЕ ЗНАЮ",(0,o.btn)(".next-btn").classList.remove("big")):((0,o.elem)(".answerImage").remove(),(0,o.btn)(".btn-audio").classList.remove("small"),(0,o.elem)(".answer").innerHTML="",(0,o.btn)(".next-btn").innerHTML="НЕ ЗНАЮ",(0,o.btn)(".next-btn").classList.remove("big"),(0,o.elem)(".answers-audiocall").innerHTML="",d.default.gameStep+=1,yield(0,l.default)())}))}))}},1733:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(7015),i=a(n(8432)),o=n(7981);t.default=function(){const e=(0,s.btns)(".var"),t=i.default.gameWords.words[i.default.gameStep].wordTranslate;for(let n=o.loopStart;n<o.answersNumber;n+=o.loopStep)e[n].innerHTML.slice(2)!==t&&e[n].classList.add("transparent")}},5206:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(2695)),i=a(n(5613)),o=n(7015),l=n(947),r=a(n(8432)),d=a(n(1733));t.default=function(e){return(0,d.default)(),(0,o.elem)(".solution-field").insertAdjacentHTML("afterbegin",`\n    <img\n    class="answerImage"\n    src="${l.base}/${r.default.gameWords.words[r.default.gameStep].image}"\n    alt="answerImage">\n    `),(0,o.btn)(".btn-audio").classList.add("small"),(0,o.elem)(".answer").innerHTML=r.default.gameWords.words[r.default.gameStep].word,(0,o.btn)(".next-btn").innerHTML="⟶",(0,o.btn)(".next-btn").classList.add("big"),e?e.innerHTML.slice(2)===r.default.gameWords.words[r.default.gameStep].wordTranslate?(new Audio(s.default).play(),e.classList.add("correct"),r.default.goodIds.push(r.default.gameWords.words[r.default.gameStep].id),r.default.knownNum+=1,!0):(e.classList.add("incorrect"),new Audio(i.default).play(),r.default.badIds.push(r.default.gameWords.words[r.default.gameStep].id),r.default.mistakesNum+=1,!1):(new Audio(i.default).play(),r.default.badIds.push(r.default.gameWords.words[r.default.gameStep].id),r.default.mistakesNum+=1,!1)}},7251:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(4343)),o=n(7015),l=n(7981),r=n(947),d=n(713),c=s(n(8432)),u=s(n(2100));let f;t.default=function(){return a(this,void 0,void 0,(function*(){const e=c.default.gameWords.words[c.default.gameStep].wordTranslate,t=c.default.gameWords.positions[c.default.gameStep],n=(0,i.default)(e,t),a=(0,o.elem)(".answers-audiocall");for(let e=l.loopStart;e<l.answersNumber;e+=l.loopStep){const t=(0,d.elementCreator)("button","var");a.appendChild(t),t.innerHTML=`${e+l.numberingDifference} ${n[e]}`}f=`${r.base}/${c.default.gameWords.words[c.default.gameStep].audio}`;const s=new Audio(f);yield s.play(),(0,o.btn)(".btn-audio").onclick=()=>s.play(),(0,o.btns)(".var").forEach((e=>{e.addEventListener("click",u.default,{once:!0})})),document.body.classList.add("loaded")}))}},2100:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(7015),i=a(n(5206));t.default=function(e){const t=e.target;if(!(0,s.elem)(".answerImage")&&(0,i.default)(t)){const e=new RegExp(`${t.innerHTML[0]}`);t.innerHTML=t.innerHTML.replace(e,"✔")}}},8689:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(8432)),o=n(7015),l=n(7981),r=s(n(5206));t.default=function(e){document.querySelector(".gameplay-audiocall.none-view")||(i.default.answer=+e.key,i.default.answer>0&&i.default.answer<6&&function(){a(this,void 0,void 0,(function*(){const e=(0,o.btns)(".var")[i.default.answer-l.numberingDifference];if(!(0,o.elem)(".answerImage")&&(0,r.default)(e)){const t=new RegExp(`${e.innerHTML[0]}`);e.innerHTML=e.innerHTML.replace(t,"✔")}}))}())}},5284:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(8432)),o=n(7981),l=n(7015),r=s(n(7251)),d=s(n(5206)),c=s(n(4810));t.default=function(e){return a(this,void 0,void 0,(function*(){document.querySelector(".gameplay-audiocall.none-view")||"Enter"!==e.key||(e.preventDefault(),"НЕ ЗНАЮ"===(0,l.btn)(".next-btn").innerHTML?(0,d.default)():i.default.gameStep===o.gameSteps?(yield(0,c.default)(),(0,l.elem)(".audiocall-result").classList.remove("none-view"),(0,l.elem)(".gameplay-audiocall").classList.add("none-view"),(0,l.elem)(".exit").classList.add("none-view"),(0,l.elem)(".answers-audiocall").innerHTML="",(0,l.elem)(".answerImage").remove(),(0,l.btn)(".btn-audio").classList.remove("small"),(0,l.elem)(".answer").innerHTML="",(0,l.btn)(".next-btn").innerHTML="НЕ ЗНАЮ",(0,l.btn)(".next-btn").classList.remove("big")):((0,l.elem)(".answerImage").remove(),(0,l.btn)(".btn-audio").classList.remove("small"),(0,l.elem)(".answer").innerHTML="",(0,l.btn)(".next-btn").innerHTML="НЕ ЗНАЮ",(0,l.btn)(".next-btn").classList.remove("big"),(0,l.elem)(".answers-audiocall").innerHTML="",i.default.gameStep+=1,yield(0,r.default)()))}))}},8763:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(8432)),o=s(n(2335)),l=s(n(1370)),r=n(7015);t.default=function(e){document.querySelector(".game-menu.none-view")||(i.default.level=+e.key,function(e){a(this,void 0,void 0,(function*(){e>0&&e<7&&(i.default.page=yield(0,o.default)(e),yield(0,l.default)(),(0,r.elem)(".game-menu").classList.add("none-view"),(0,r.elem)(".gameplay-audiocall").classList.remove("none-view"))}))}(i.default.level))}},4060:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(8432)),o=n(947);t.default=function(e){return a(this,void 0,void 0,(function*(){if(!document.querySelector(".gameplay-audiocall.none-view")&&"Space"===e.code){e.preventDefault();const t=new Audio(`${o.base}/${i.default.gameWords.words[i.default.gameStep].audio}`);yield t.play()}}))}},1298:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(2237)),i=a(n(8432)),o=n(7981);t.default=function(){i.default.gameWords.positions=(0,s.default)(o.wordsPerPage),i.default.gameWords.words=[];for(let e=o.loopStart;e<o.gameWordsNumber;e+=o.loopStep)i.default.gameWords.words.push(i.default.page[i.default.gameWords.positions[e]])}},5686:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.floor(Math.random()*e)}},2237:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(5686)),i=n(7981);t.default=function(e){const t=[];for(let n=i.loopStart;n<i.gameWordsNumber;n+=i.loopStep){const a=(0,s.default)(e);t.includes(a)?n-=i.loopStep:t.push(a)}return t}},4343:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(5686)),i=a(n(8432)),o=n(7981);t.default=function(e,t){const n=[],a=(0,s.default)(o.answersNumber),l=function(e){const t=[];for(let n=o.loopStart;n<o.answersNumber;n+=o.loopStep){const a=(0,s.default)(e);t.includes(a)?n-=o.loopStep:t.push(a)}return t}(o.wordsPerPage);for(let s=o.loopStart;s<o.answersNumber;s+=o.loopStep)s!==a||l.includes(t)?n.push(i.default.page[l[s]].wordTranslate):n.push(e);return n}},3399:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(6914);const a=n(7015);t.default=function(){(0,a.elem)("body").insertAdjacentHTML("beforeend",'\n<section class="audiocall none-view">\n  <div class="exit"><button class="btn-exit">x</button></div>\n  <div class="game-menu none-view">\n    <h2>АУДИОВЫЗОВ</h2>\n    <p class="game-usefulness">Тренировка улучшает восприятие речи на слух.</p>\n    <p>Уровень cложности:</p>\n    <div class="difficultyLevel">\n      <button class="start-audiocall">1</button>\n      <button class="start-audiocall">2</button>\n      <button class="start-audiocall">3</button>\n      <button class="start-audiocall">4</button>\n      <button class="start-audiocall">5</button>\n      <button class="start-audiocall">6</button>\n    </div>\n  </div>\n  <div class="gameplay-audiocall none-view">\n    <div class="solution-field">\n      <div>\n        <button class="btn-audio"></button>\n        <p class="answer"></p>\n      </div>\n    </div>\n    <div class="answers-audiocall"></div>\n    <button class="next-btn">НЕ ЗНАЮ</button>\n  </div>\n  <div class="audiocall-result none-view">\n    <h2>Ваш результат</h2>\n    <div class="good-title">Верно: <span class="audiocall-known">0</span></div>\n    <div class="good-stat"></div>\n    <div class="bad-title">Неверно: <span class="audiocall-mistakes">0</span></div>\n    <div class="bad-stat"></div>\n    <div class="exit-btns">\n      <button class="continue">Продолжить тренировку</button>\n      <button class="to-main">На главную страницу</button>\n      <button class="to-textbook none-view">На страницу учебника</button>\n    </div>\n  </div>\n</section>\n')}},659:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(8432)),i=n(7015);t.default=function(){s.default.gameStep=0,s.default.knownNum=0,s.default.badIds=[],s.default.goodIds=[],s.default.mistakesNum=0,(0,i.elem)(".good-stat").innerHTML="",(0,i.elem)(".bad-stat").innerHTML="",(0,i.elem)(".audiocall-result").classList.add("none-view"),(0,i.elem)(".exit").classList.remove("none-view")}},6735:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setStatistics=t.getStatistic=t.audioHandler=void 0;const i=new(s(n(728)).default);t.audioHandler=function(){document.querySelectorAll(".audiocall-result .btn-audio").forEach((e=>{e.addEventListener("click",(e=>{!function(e){const t=`${i.base}/${e}`;new Audio(t).play()}(e.target.getAttribute("data-audio")||"")}))}))},t.getStatistic=function(e){return a(this,void 0,void 0,(function*(){let t="";const n=e.map((e=>function(e){return a(this,void 0,void 0,(function*(){return yield i.getWord(e)}))}(e)));return yield Promise.all(n).then((e=>e.forEach((e=>{t+=`<p><button class="btn-audio" data-audio="${e.audio}"></button> ${e.word} ${e.transcription} - ${e.wordTranslate}</p>`})))),t}))},t.setStatistics=function(e,t,n){const a=localStorage.getItem("day_stat_audiocall"),s=localStorage.getItem("start_date_audiocall");if(null!==a&&null!==s&&+s+864e5>Date.now()){const s=JSON.parse(a);s.best<n&&(s.best=n),s.goods+=e.length,s.bads+=t.length,localStorage.setItem("day_stat_audiocall",JSON.stringify(s))}else{const a={goods:e.length,bads:t.length,best:n};localStorage.setItem("day_stat_audiocall",JSON.stringify(a)),localStorage.setItem("start_date_audiocall",JSON.stringify(Date.now()))}}},478:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(7015),i=a(n(659)),o=a(n(1717));t.default=function(){(0,s.btn)(".continue").addEventListener("click",(()=>{(0,i.default)(),(0,s.elem)(".textbook__pages")?(0,o.default)():(0,s.elem)(".game-menu").classList.remove("none-view")})),(0,s.btn)(".to-main").addEventListener("click",(()=>{var e;(0,i.default)(),(0,s.elem)(".audiocall").classList.add("none-view"),(0,s.elem)(".header").classList.remove("none-view"),(0,s.elem)(".main").classList.remove("none-view"),(0,s.elem)(".footer").classList.remove("none-view"),null===(e=(0,s.elem)("#auth_form"))||void 0===e||e.classList.remove("none-view")})),(0,s.btn)(".to-textbook").addEventListener("click",(()=>{(0,i.default)(),(0,s.elem)(".header").classList.remove("none-view"),(0,s.elem)(".main").classList.remove("none-view"),(0,s.elem)(".footer").classList.remove("none-view"),(0,s.elem)(".audiocall").classList.add("none-view"),(0,s.elem)(".game-menu").classList.add("none-view"),(0,s.elem)(".gameplay-audiocall").classList.add("none-view"),(0,s.btn)(".to-textbook").classList.add("none-view"),(0,s.btn)(".to-main").classList.remove("none-view"),(0,s.elem)(".answers-audiocall").innerHTML="",(0,s.elem)(".answerImage")&&((0,s.elem)(".answerImage").remove(),(0,s.btn)(".btn-audio").classList.remove("small"),(0,s.elem)(".answer").innerHTML="",(0,s.btn)(".next-btn").innerHTML="НЕ ЗНАЮ",(0,s.btn)(".next-btn").classList.remove("big"))}))}},4810:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6735),o=n(7015),l=s(n(8432));t.default=function(){return a(this,void 0,void 0,(function*(){l.default.knownNum>l.default.bestChain&&(l.default.bestChain=l.default.knownNum);const e=yield(0,i.getStatistic)(l.default.goodIds),t=yield(0,i.getStatistic)(l.default.badIds);(0,o.elem)(".audiocall-mistakes").innerHTML=`${l.default.mistakesNum}`,(0,o.elem)(".audiocall-known").innerHTML=`${l.default.knownNum}`,(0,o.elem)(".good-stat").innerHTML=e,(0,o.elem)(".bad-stat").innerHTML=t,(0,i.audioHandler)(),"Authenticated"===localStorage.getItem("message")&&(0,i.setStatistics)(l.default.goodIds,l.default.badIds,l.default.bestChain)}))}},2335:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(5686)),o=new(s(n(728)).default);t.default=function(e){return a(this,void 0,void 0,(function*(){document.body.classList.remove("loaded");const t=e-1,n=(0,i.default)(30),{wordsPage:a}=yield o.getWords(t,n);return a}))}},1717:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(728)),o=s(n(8432)),l=n(7015),r=s(n(1370)),d=new i.default;t.default=function(){var e;return a(this,void 0,void 0,(function*(){document.body.classList.remove("loaded");const t=localStorage.getItem("textbook");if(null!==t){const e=JSON.parse(t),{group:n}=e,{page:a}=e,{wordsPage:s}=yield d.getWords(n,a);o.default.page=s}(0,l.elem)(".header").classList.add("none-view"),(0,l.elem)(".main").classList.add("none-view"),(0,l.elem)(".footer").classList.add("none-view"),null===(e=(0,l.elem)("#auth_form"))||void 0===e||e.classList.add("none-view"),(0,l.elem)(".audiocall").classList.remove("none-view"),(0,l.elem)(".gameplay-audiocall").classList.remove("none-view"),(0,l.btn)(".to-textbook").classList.remove("none-view"),(0,l.btn)(".to-main").classList.add("none-view"),yield(0,r.default)()}))}},8432:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:0,answer:0,gameStep:0,mistakesNum:0,knownNum:0,goodIds:[],badIds:[],bestChain:0,page:[],gameWords:{words:[],positions:[]}}},7981:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.numberingDifference=t.gameWordsNumber=t.wordsPerPage=t.gameSteps=t.answersNumber=t.loopStep=t.loopStart=void 0,t.loopStart=0,t.loopStep=1,t.answersNumber=5,t.gameSteps=9,t.wordsPerPage=20,t.gameWordsNumber=10,t.numberingDifference=1},6686:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.clearStat=t.finish=t.badAnswer=t.goodAnswer=void 0;const i=n(7138),o=n(7015),l=s(n(2695)),r=s(n(5613)),d=n(1969);let c=[],u=[],f=0,v=0;t.goodAnswer=function(e){const t=(0,o.elem)(".score_plus"),n=(0,o.elem)(".score"),a=new Audio(l.default),s=document.querySelectorAll(".indicator");switch(a.play(),(0,o.elem)(".sprint-play .card").classList.add("good_answer"),(0,o.elem)(".answer-check").classList.add("active"),f+=1,f%4){case 0:t.innerHTML=(2*Number(t.innerHTML)).toString(),s.forEach((e=>{e.classList.remove("active")}));break;case 1:s[0].classList.add("active");break;case 2:s[1].classList.add("active");break;case 3:s[2].classList.add("active");break;default:s.forEach((e=>{e.classList.remove("active")}))}n.innerHTML=(Number(t.innerHTML)+Number(n.innerHTML)).toString(),c.push(e)},t.badAnswer=function(e){const t=(0,o.elem)(".score_plus"),n=document.querySelectorAll(".indicator");new Audio(r.default).play(),(0,o.elem)(".sprint-play .card").classList.add("bad_answer"),n.forEach((e=>{e.classList.remove("active")})),f>v&&(v=f),f=0,t.innerHTML="10",u.push(e)},t.finish=function(){return a(this,void 0,void 0,(function*(){(0,o.elem)(".sprint-play").classList.add("none-view"),document.body.classList.remove("loaded");const e=yield(0,i.getStatistic)(c),t=yield(0,i.getStatistic)(u);(0,o.elem)(".good_count").innerHTML=`${c.length}`,(0,o.elem)(".good_stat").innerHTML=e,(0,o.elem)(".bad_count").innerHTML=`${u.length}`,(0,o.elem)(".bad_stat").innerHTML=t,(0,o.elem)(".stat").classList.remove("none-view"),(0,o.elem)(".score_total").innerHTML=(0,o.elem)(".score").innerHTML,(0,o.elem)(".answer-check").classList.remove("active"),(0,i.audioHandler)(),(0,d.isAuth)()&&(0,i.setStatistics)(c,u,v),document.body.classList.add("loaded")}))},t.clearStat=function(){c=[],u=[],f=0}},6957:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sprintBtnHandlers=t.showSprintPlay=void 0;const s=n(7015),i=new(a(n(3900)).default);function o(e){var t;(0,s.elem)(".sprint").classList.remove("none-view"),(0,s.elem)(".welcome").classList.add("none-view"),(0,s.elem)(".sprint-play").classList.remove("none-view"),(0,s.elem)(".header").classList.add("none-view"),(0,s.elem)(".main").classList.add("none-view"),null===(t=(0,s.elem)("#auth_form"))||void 0===t||t.classList.add("none-view"),(0,s.elem)(".footer").classList.add("none-view"),(0,s.elem)(".stat").classList.add("none-view"),i.start(e)}function l(){var e;(0,s.elem)(".header").classList.add("none-view"),(0,s.elem)(".main").classList.add("none-view"),null===(e=(0,s.elem)("#auth_form"))||void 0===e||e.classList.add("none-view"),(0,s.elem)(".footer").classList.add("none-view"),(0,s.elem)(".sprint-play").classList.add("none-view"),(0,s.elem)(".stat").classList.add("none-view"),(0,s.elem)(".sprint").classList.remove("none-view"),(0,s.elem)(".welcome").classList.remove("none-view"),(0,s.btns)(".level button").forEach((e=>{e.addEventListener("click",o)}))}function r(){var e;(0,s.elem)(".header").classList.remove("none-view"),(0,s.elem)(".main").classList.remove("none-view"),null===(e=(0,s.elem)("#auth_form"))||void 0===e||e.classList.remove("none-view"),(0,s.elem)(".footer").classList.remove("none-view"),(0,s.elem)(".sprint").classList.add("none-view"),(0,s.elem)(".sprint-play").classList.add("none-view"),(0,s.elem)(".word").innerHTML="",(0,s.elem)(".translate").innerHTML="",(0,s.elem)(".score").innerHTML="0",(0,s.elem)(".score_plus").innerHTML="10",(0,s.elem)(".good_count").innerHTML="",(0,s.elem)(".bad_count").innerHTML="",(0,s.elem)(".good_stat").innerHTML="",(0,s.elem)(".bad_stat").innerHTML="",(0,s.elem)(".score_total").innerHTML="",(0,s.elem)(".timer__seconds").innerHTML="60",document.querySelectorAll(".indicator").forEach((e=>{e.classList.remove("active")})),i.stopPlay()}t.showSprintPlay=o,t.sprintBtnHandlers=function(){(0,s.btn)(".nav_sprint").addEventListener("click",l),(0,s.elem)(".card-sprint").addEventListener("click",l),(0,s.btn)("#true").addEventListener("click",i.answerHandler.bind(i)),(0,s.btn)("#false").addEventListener("click",i.answerHandler.bind(i)),document.addEventListener("keyup",i.answerHandler.bind(i)),(0,s.btn)(".btn-exit-sprint").addEventListener("click",r)}},1021:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomPage=t.getRandomId=t.pages=void 0,t.pages=[],t.getRandomId=function(e){return e[Math.floor(Math.random()*e.length)]},t.getRandomPage=function e(){const n=Math.floor(30*Math.random()).toString();return t.pages.includes(n)&&e(),n}},4912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(4670);const a=n(6957);t.default=function(){document.querySelector("body").insertAdjacentHTML("beforeend",'\n<section class="sprint none-view">\n  <div class="exit"><button class="btn-exit-sprint">x</button></div>\n  <div class="welcome none-view">\n    <h2>Спринт</h2>\n    <p class="text">В игре необходимо определить соответсвует ли перевод предложенному слову</p>\n    <div class="level">\n      <p>Выберите уровень:</p>\n      <button id="level0" data-level="0">1</button>\n      <button id="level1" data-level="1">2</button>\n      <button id="level2" data-level="2">3</button>\n      <button id="level3" data-level="3">4</button>\n      <button id="level4" data-level="4">5</button>\n      <button id="level5" data-level="5">6</button>\n    </div>    \n  </div>\n  <div class="sprint-play none-view">\n    <div class="timer">\n        <div class="timer__seconds">60</div>\n    </div>\n  <div class="card">\n    <div class="score_block">\n      <p class="score">0</p>\n    </div>\n    <div class="indicators">\n      <div class="indicator"></div>\n      <div class="indicator"></div>\n      <div class="indicator"></div>\n    </div>\n    <div class="counter_score">\n      <p>+ <span class="score_plus">10</span> очков за слово</p>\n    </div>\n    <h3 class="word"></h3>\n    <h4 class="translate"></h4>\n    <div class="answer-check">🗸</div>\n    <div class="buttons-check">\n    <button id="false"><span class="arrow">⟵</span> Неверно</button>\n    <button id="true">Верно <span class="arrow">⟶</span></button></div>\n    </div>    \n  </div>\n  <div class="stat none-view">\n    <h2>Ваш результат: <span class="score_total">0</span> очков</h2>\n    <div class="good_title">Верно: <span class="good_count"></span></div>\n    <div class="good_stat"></div>\n    <div class="bad_title">Неверно: <span class="bad_count"></span></div>\n    <div class="bad_stat"></div>\n  </div>\n</section>\n'),(0,a.sprintBtnHandlers)()}},3900:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(728)),o=n(1021),l=n(6686),r=n(7015),d=n(6328);t.default=class{constructor(){this.api=new i.default,this.ids=[],this.randomId="",this.i=0,this.trueTranslate="",this.randomTranslate="",this.group="",this.page=""}start(e){return a(this,void 0,void 0,(function*(){const t=e.target;e.preventDefault(),document.body.classList.remove("loaded");const n=localStorage.getItem("textbook");if(null!==n&&t.classList.contains("sprint-btn")){const e=JSON.parse(n);this.group=e.group.toString(),this.page=e.page.toString()}else this.group=t.getAttribute("data-level")||"0",this.page=(0,o.getRandomPage)();this.words=yield this.api.getWordsSprint(this.group,this.page),this.startPlay(this.words)}))}startPlay(e){return a(this,void 0,void 0,(function*(){e.forEach((e=>{this.ids.push(e.id)})),this.randomId=(0,o.getRandomId)(this.ids),yield this.renderCard(this.ids[this.i],this.randomId),(0,d.timer)()}))}stopPlay(){this.ids=[],this.i=0,(0,l.clearStat)(),(0,d.stopTimer)()}answerHandler(e){let t="";if(e instanceof KeyboardEvent)switch(e.code){case"ArrowRight":t="true",(0,r.elem)("#true").classList.add("hover");break;case"ArrowLeft":t="false",(0,r.elem)("#false").classList.add("hover");break;default:return}else t=e.target.id;document.querySelector(".sprint-play.none-view")||this.checkAnswer(t)}renderCard(e,t){return a(this,void 0,void 0,(function*(){const n=yield this.api.getWord(e),a=(0,o.getRandomId)([e,t]),s=yield this.api.getWord(a);this.trueTranslate=n.wordTranslate,this.randomTranslate=s.wordTranslate,(0,r.elem)(".sprint-play .card").classList.remove("bad_answer","good_answer"),(0,r.elem)(".answer-check").classList.remove("active"),(0,r.elem)("#true").classList.remove("hover"),(0,r.elem)("#false").classList.remove("hover"),(0,r.elem)(".word").textContent=n.word,(0,r.elem)(".translate").textContent=this.randomTranslate,document.body.classList.add("loaded")}))}checkAnswer(e){return a(this,void 0,void 0,(function*(){this.trueTranslate===this.randomTranslate&&"true"===e||this.trueTranslate!==this.randomTranslate&&"false"===e?(0,l.goodAnswer)(this.ids[this.i]):(0,l.badAnswer)(this.ids[this.i]),this.i<this.ids.length-1||(o.pages.push(this.page),this.page=(0,o.getRandomPage)(),this.words=yield this.api.getWordsSprint(this.group,this.page),this.words.forEach((e=>{this.ids.push(e.id)}))),this.i+=1,this.randomId=(0,o.getRandomId)(this.ids),yield this.renderCard(this.ids[this.i],this.randomId)}))}}},7138:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setStatistics=t.getStatistic=t.audioHandler=void 0;const i=new(s(n(728)).default);t.audioHandler=function(){document.querySelectorAll(".sprint .btn-audio").forEach((e=>{e.addEventListener("click",(e=>{!function(e){const t=`${i.base}/${e}`;new Audio(t).play()}(e.target.getAttribute("data-audio")||"")}))}))},t.getStatistic=function(e){return a(this,void 0,void 0,(function*(){let t="";const n=e.map((e=>function(e){return a(this,void 0,void 0,(function*(){return yield i.getWord(e)}))}(e)));return yield Promise.all(n).then((e=>e.forEach((e=>{t+=`<p><button class="btn-audio" data-audio="${e.audio}"></button> ${e.word} ${e.transcription} - ${e.wordTranslate}</p>`})))),t}))},t.setStatistics=function(e,t,n){const a=localStorage.getItem("day_stat_sprint"),s=localStorage.getItem("start_date_sprint");if(null!==a&&null!==s&&+s+864e5>Date.now()){const s=JSON.parse(a);s.best<n&&(s.best=n),s.goods+=e.length,s.bads+=t.length,localStorage.setItem("day_stat_sprint",JSON.stringify(s))}else{const a={goods:e.length,bads:t.length,best:n};localStorage.setItem("day_stat_sprint",JSON.stringify(a)),localStorage.setItem("start_date_sprint",JSON.stringify(Date.now()))}}},6328:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stopTimer=t.timer=void 0;const a=n(7015),s=n(6686);let i;t.timer=function(){let e=60;!function t(){e-=1,(0,a.elem)(".timer__seconds").innerHTML=`${e<10?"0":""}${String(e)}`,e>0?i=setTimeout(t,1e3):(0,s.finish)()}()},t.stopTimer=function(){clearTimeout(i)}},3607:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(6344);const s=n(9989),i=a(n(5738)),o=a(n(8808)),l=a(n(4912)),r=a(n(9317)),d=a(n(7319));(0,s.renderMainPage)(),(new i.default).identification(),(0,o.default)(),(0,l.default)(),(0,r.default)(),(0,d.default)(),window.onload=()=>{document.body.classList.add("loaded")}},9317:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(7319)),o=s(n(8808)),l=s(n(4912)),r=n(9989),d=n(3109),c=s(n(5738));t.default=function e(){return a(this,void 0,void 0,(function*(){const t=document.querySelector(".nav_textbook"),n=document.querySelector(".card_textbook"),a=document.querySelector(".nav_main");[t,n].forEach((e=>{e.addEventListener("click",(()=>{(0,d.renderTextbookPage)(),t.classList.add("active"),a.classList.remove("active")}))})),a.addEventListener("click",(()=>{(0,r.renderMainPage)(),(new c.default).identification(),(0,o.default)(),(0,l.default)(),e(),(0,i.default)()}))}))}},9989:(e,t,n)=>{function a(){document.querySelector("body").innerHTML='\n  <div class="preloader">\n    <div class="preloader__row">\n      <div class="preloader__item"></div>\n      <div class="preloader__item"></div>\n    </div>\n  </div>\n  <header class="header" id="header">\n    <nav class="menu">\n      <ul class="nav_list">\n        <li class="nav_item"><button class="nav_link nav_main active">Главная</button></li>\n        <li class="nav_item"><button class="nav_link nav_textbook">Учебник</button></li>\n        <li class="nav_item"><button class="nav_link nav_audiocall">Аудиовызов</button></li>\n        <li class="nav_item"><button class="nav_link nav_sprint">Спринт</button></li>\n        <li class="nav_item for_auth_user"><button class="nav_link nav_stat">Статистика</button></li>\n        <li class="nav_item auth_btn"><button class="nav_link">Авторизация</button></li>\n        <li class="nav_item logout for_auth_user"><button class="nav_link">Выйти</button></li>\n      </ul>\n    </nav>\n    <div class="burger" id="burger">\n      <span class="line line1"></span>\n      <span class="line line2"></span>\n      <span class="line line3"></span>\n    </div>\n  </header>\n  <main class="main">\n    <section class="greeting">\n      <h1>Учи английский легко!</h1>\n      <img src="./assets/e-learning.png" alt="e-learning">\n    </section>\n    <section class="benefits">\n      <h2 class="title">Возможности и преимущества</h2>\n      <div class="benefits__cards">\n        <div class="benefit__card card_textbook">\n          <img src="./assets/child9.png" alt="child1">\n          <p class="benefit__card-title">Учебник</p>\n          <button class="button">Попробовать</button>\n        </div>\n        <div class="benefit__card card_audiocall">\n          <img src="./assets/child7.png" alt="child2">\n          <p class="benefit__card-title">Аудиовызов</p>\n          <button class="button">Попробовать</button>\n        </div>\n        <div class="benefit__card card-sprint">\n          <img src="./assets/child6.png" alt="child3">\n          <p class="benefit__card-title">Спринт</p>\n          <button class="button">Попробовать</button>\n        </div>\n      </div>\n    </section>\n    <section class="about-us">\n      <h2 class="title">О команде разработчиков</h2>\n      <div class="developer-container">\n        <div class="developer__card">\n          <img class="developer__img" src="https://avatars.githubusercontent.com/u/11944139?v=4" alt="Dasha">\n          <div class="developer__disc">\n            <h3 class="developer__name">Даша <a href="https://github.com/d-khabarova"><i class="fab fa-github"></i></a></h3>\n            <p>Тим-лид команды! Реализовала авторизацию и регистрацию пользователя. Разработала и реализовала мини-игру "Спринт". Проработала страницу статистики. Сделала копию бэкенда.</p>\n          </div>\n        </div>\n        <div class="developer__card">\n          <img class="developer__img" src="https://avatars.githubusercontent.com/u/83439578?v=4" alt="Yura">\n          <div class="developer__disc">\n            <h3 class="developer__name">Юра <a href="https://github.com/Manofsky"><i class="fab fa-github"></i></a></h3>\n            <p>Разработал и реализовал мини-игру "Аудиовызов". Управление игрой осуществляется как мышью, так и через клавиатуру. По окончанию выводится результат.</p>\n          </div>\n        </div>\n        <div class="developer__card">\n          <img class="developer__img" src="https://avatars.githubusercontent.com/u/89844910?v=4" alt="Lena">\n          <div class="developer__disc">\n            <h3 class="developer__name">Лена <a href="https://github.com/ElenaSchem"><i class="fab fa-github"></i></a></h3>\n            <p>Оформила главную страницу приложения, подобрала шрифт, цвета. Добавила электронный учебник с отображением списка слов.</p>\n          </div>\n        </div>\n      </div>\n    </section>\n  </main>\n  <footer class="footer">\n    <div>&#169;2022</div>\n    <a href="https://github.com/rolling-scopes-school/tasks/blob/master/tasks/stage-2/rs-lang/rslang.md" target="_blank">RS Lang</a>\n    <ul>\n      <li><a href="https://github.com/d-khabarova" target="_blank">d-khabarova</a></li>\n      <li><a href="https://github.com/Manofsky" target="_blank">Manofsky</a></li>\n      <li><a href="https://github.com/ElenaSchem" target="_blank">ElenaSchem</a></li>\n    </ul>\n    <a href="https://rs.school/js/" target="_blank">\n      <img src="./assets/rs_school_js.svg" alt="rsSchool" width="60">\n    </a>\n  </footer>\n  ';const e=document.querySelector(".burger"),t=document.querySelector(".menu");function n(){e.classList.toggle("open"),t.classList.toggle("open")}e.addEventListener("click",n),t.addEventListener("click",n),t.addEventListener("click",(function(n){n.target.classList.contains("nav_link")&&(e.classList.remove("open"),t.classList.remove("open"))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.renderMainPage=void 0,n(9640),t.renderMainPage=a,t.default=a},3109:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,i){function o(e){try{r(a.next(e))}catch(e){i(e)}}function l(e){try{r(a.throw(e))}catch(e){i(e)}}function r(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}r((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextbookPage=t.createTextbookPage=void 0;const i=s(n(728));n(5036);const o=n(6957),l=s(n(1717)),r="https://react-rslang-be-d-khabarova.herokuapp.com",d=new i.default;let c={group:0,page:0};if(localStorage.getItem("textbook")){const e=localStorage.getItem("textbook")||"";c=JSON.parse(e)}function u(){const e=document.querySelector(".main");e.innerHTML="";const t=`\n  <div class="textbook__pages">\n  <div class="wrapper">\n    <div class="textbook__controls">\n      <select class="textbook__select" name="group">\n        <option value="0">Раздел 1</option>\n        <option value="1">Раздел 2</option>\n        <option value="2">Раздел 3</option>\n        <option value="3">Раздел 4</option>\n        <option value="4">Раздел 5</option>\n        <option value="5">Раздел 6</option>\n      </select>\n      <div class="page-nav">\n        <button class="prev-page"><i class="fas fa-chevron-left"></i></button>\n        <div class="page-num">${c.page+1}</div>\n        <button class="next-page"><i class="fas fa-chevron-right"></i></button>\n      </div>\n    </div>\n    <div class="textbook__controls">\n      <button class="sprint-btn">Спринт</button>\n      <button class="audioCall-btn">Аудиовызов</button>\n    </div>\n  </div>\n  <div class="textbook__page"></div>\n  <a class="top-btn" href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM377 271c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-87-87-87 87c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 167c9.4-9.4 24.6-9.4 33.9 0L377 271z"/></svg></a>\n  </div>\n  `;e.innerHTML=t}function f(){c.page-=1,m()}function v(){c.page+=1,m()}function m(){return a(this,void 0,void 0,(function*(){u(),function(){a(this,void 0,void 0,(function*(){document.body.classList.remove("loaded");const e=document.querySelector(".textbook__page");e.innerHTML="";let t=[];t=yield d.getWordsTextbook(c.group,c.page),e.innerHTML=function(e){let t="";return e.forEach((e=>{t+=`\n    <div class="wordItem" data-id="${e.id}">\n      <div class="wordItem__image" style="background-image: url('${r}/${e.image}');"></div>\n      <div class="wordItem__content">\n        <div class="wordItem__header">\n          <span class="wordItem__word">${e.word}</span>\n          -\n          <span class="wordItem__word-transcription">${e.transcription}</span>\n          -\n          <span class="wordItem__word-translate">${e.wordTranslate}</span>\n          <img class="wordItem__sound-image" src="./assets/volumeUp.svg" alt="volumeUp">\n        </div>\n        <div class="wordItem__explanation">${e.textMeaning}</div>\n        <div class="wordItem__explanation-translate">${e.textMeaningTranslate}</div>\n        <div class="wordItem__example">${e.textExample}</div>\n        <div class="wordItem__example-translate">${e.textExampleTranslate}</div>\n      </div>\n    </div>\n    `})),t}(t),document.querySelectorAll(".wordItem").forEach((e=>{e.querySelector(".wordItem__sound-image").addEventListener("click",(()=>{!function(e,t){const n=t.dataset.id,a=e.find((e=>e.id===n)),s=document.createElement("audio");s.src=`${r}/${a.audio}`;const i=document.createElement("audio");i.src=`${r}/${a.audioMeaning}`;const o=document.createElement("audio");function l(e){e.play()}o.src=`${r}/${a.audioExample}`,l(s),s.onended=()=>{l(i),i.onended=()=>{l(o)}}}(t,e)}))})),6===c.group&&(document.querySelector(".page-nav").style.opacity="0"),localStorage.setItem("textbook",JSON.stringify(c)),document.body.classList.add("loaded")}))}();const e=document.querySelector('.textbook__select[name="group"]');e.querySelector(`option[value='${c.group}'`).selected=!0,e.addEventListener("input",(()=>{c.page=0,function(e){c.group=+e.value,m()}(e)}));const t=document.querySelector(".prev-page"),n=document.querySelector(".next-page");0===c.page&&t.classList.add("disable"),29===c.page&&n.classList.add("disable"),t.classList.contains("disable")||t.addEventListener("click",f),n.classList.contains("disable")||n.addEventListener("click",v),document.querySelector(".sprint-btn").addEventListener("click",o.showSprintPlay),document.querySelector(".audioCall-btn").addEventListener("click",l.default)}))}t.createTextbookPage=u,t.renderTextbookPage=m,t.default=m},713:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buttonCreator=t.inputCreator=t.elementCreator=void 0,t.elementCreator=function(e,t,n,a){const s=document.createElement(e);return"string"==typeof n&&s.setAttribute("id",n),"string"==typeof t&&t.split(",").forEach((e=>{s.classList.add(e)})),s.innerHTML=a||"",s},t.inputCreator=function(e,t){const n=document.createElement("input");return n.setAttribute("type",e),"string"==typeof t&&n.setAttribute("placeholder",t),n},t.buttonCreator=function(e,t){const n=document.createElement("button");return n.setAttribute("id",e),n.innerHTML=t||"",n}},7015:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.elem=t.div=t.btns=t.btn=void 0,t.btn=function(e){return document.querySelector(e)},t.btns=function(e){return document.querySelectorAll(e)},t.div=function(e){return document.querySelector(e)},t.elem=function(e){return document.querySelector(e)}},2695:(e,t,n)=>{e.exports=n.p+"0337d4e5a7d804cdce60.mp3"},5613:(e,t,n)=>{e.exports=n.p+"5b7bab24cf28e527bfb6.mp3"}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(3607)})();